# Better GPT Image - é¡¹ç›®è®¡åˆ’

## é¡¹ç›®æ¦‚è¿°
åˆ›å»ºä¸€ä¸ªå¢å¼ºç‰ˆçš„ OpenAI GPT å›¾åƒç”Ÿæˆå·¥å…·ï¼Œé€šè¿‡æ™ºèƒ½ Prompt ä¼˜åŒ–æä¾›æ›´å¥½çš„å›¾åƒç”Ÿæˆæ•ˆæœã€‚

### æ ¸å¿ƒä»·å€¼
1. **æ™ºèƒ½ Prompt ä¼˜åŒ–** - è‡ªåŠ¨ä¼˜åŒ–ç”¨æˆ·è¾“å…¥çš„ promptï¼Œæé«˜ç”Ÿæˆè´¨é‡
2. **å®Œæ•´åŠŸèƒ½æ”¯æŒ** - æ”¯æŒ OpenAI æœ€æ–°çš„æ‰€æœ‰å›¾åƒç”ŸæˆåŠŸèƒ½
3. **ç”¨æˆ·å‹å¥½** - ç»Ÿä¸€çš„ Replicate ç•Œé¢ï¼Œç®€åŒ–ä½¿ç”¨æµç¨‹
4. **æˆæœ¬æ§åˆ¶** - ç”¨æˆ·ä½¿ç”¨è‡ªå·±çš„ API keyï¼Œæ§åˆ¶æˆæœ¬

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 1. Prompt ä¼˜åŒ–å™¨ (prompt_optimizer.py)
- **enhance_prompt()** - ä¸»å‡½æ•°ï¼Œä¼˜åŒ–ç”¨æˆ·è¾“å…¥çš„ prompt
- **analyze_intent()** - åˆ†æç”¨æˆ·æ„å›¾
- **apply_style_presets()** - åº”ç”¨é£æ ¼é¢„è®¾
- **add_quality_modifiers()** - æ·»åŠ è´¨é‡ä¿®é¥°è¯
- **translate_and_enhance()** - ç¿»è¯‘å’Œå¢å¼ºéè‹±æ–‡ prompt

#### 2. å›¾åƒç”Ÿæˆå™¨ (image_generator.py)
- **generate_image()** - åŸºç¡€å›¾åƒç”Ÿæˆ
- **edit_image()** - å›¾åƒç¼–è¾‘ï¼ˆä½¿ç”¨å‚è€ƒå›¾ï¼‰
- **edit_with_mask()** - ä½¿ç”¨ mask ç¼–è¾‘å›¾åƒ
- **stream_generation()** - æµå¼ç”Ÿæˆæ”¯æŒ
- **multi_turn_generation()** - å¤šè½®å¯¹è¯ç”Ÿæˆ

#### 3. å›¾åƒå¤„ç†å™¨ (image_processor.py)
- **prepare_input_image()** - é¢„å¤„ç†è¾“å…¥å›¾åƒ
- **create_mask()** - åˆ›å»ºå’Œå¤„ç† mask
- **handle_transparency()** - å¤„ç†é€æ˜èƒŒæ™¯
- **optimize_size()** - ä¼˜åŒ–å›¾åƒå°ºå¯¸

#### 4. ä¼šè¯ç®¡ç†å™¨ (session_manager.py)
- **manage_conversation()** - ç®¡ç†å¤šè½®å¯¹è¯
- **track_history()** - è·Ÿè¸ªç”Ÿæˆå†å²
- **handle_references()** - å¤„ç†å›¾åƒå¼•ç”¨

## API åŠŸèƒ½æ”¯æŒ

### æ”¯æŒçš„ OpenAI åŠŸèƒ½
- âœ… GPT-5 æ–‡æœ¬ç”Ÿæˆï¼ˆç”¨äº prompt ä¼˜åŒ–ï¼‰
- âœ… GPT-Image-1 å›¾åƒç”Ÿæˆ
- âœ… å¤šå›¾å‚è€ƒç”Ÿæˆ
- âœ… Mask ç¼–è¾‘ï¼ˆinpaintingï¼‰
- âœ… é«˜ä¿çœŸè¾“å…¥ï¼ˆinput_fidelityï¼‰
- âœ… é€æ˜èƒŒæ™¯
- âœ… æµå¼ç”Ÿæˆ
- âœ… å¤šè½®å¯¹è¯ç¼–è¾‘
- âœ… è‡ªå®šä¹‰å°ºå¯¸å’Œè´¨é‡

### å‚æ•°é…ç½®
```python
{
    "api_key": str,           # OpenAI API key (å¿…éœ€)
    "prompt": str,            # åŸå§‹ prompt
    "model": str,             # "gpt-image-1" (é»˜è®¤)
    "optimize_prompt": bool,  # æ˜¯å¦ä¼˜åŒ– prompt
    "style_preset": str,      # é£æ ¼é¢„è®¾
    "reference_images": list, # å‚è€ƒå›¾åƒåˆ—è¡¨
    "mask": str,             # ç¼–è¾‘ mask
    "size": str,             # å›¾åƒå°ºå¯¸
    "quality": str,          # è´¨é‡è®¾ç½®
    "background": str,       # èƒŒæ™¯è®¾ç½®
    "input_fidelity": str,   # è¾“å…¥ä¿çœŸåº¦
    "stream": bool,          # æµå¼è¾“å‡º
    "partial_images": int    # éƒ¨åˆ†å›¾åƒæ•°é‡
}
```

## å¼€å‘è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆä»Šå¤©ï¼‰
1. âœ… é¡¹ç›®ç»“æ„æ­å»º
2. ğŸ”„ Prompt ä¼˜åŒ–å™¨å®ç°
3. ğŸ”„ åŸºç¡€å›¾åƒç”Ÿæˆ
4. ğŸ”„ æœ¬åœ°æµ‹è¯•

### ç¬¬äºŒé˜¶æ®µï¼šé«˜çº§åŠŸèƒ½
5. å›¾åƒç¼–è¾‘åŠŸèƒ½
6. å¤šè½®å¯¹è¯æ”¯æŒ
7. æµå¼ç”Ÿæˆ
8. å®Œæ•´æµ‹è¯•å¥—ä»¶

### ç¬¬ä¸‰é˜¶æ®µï¼šéƒ¨ç½²
9. Cog é…ç½®
10. Replicate éƒ¨ç½²
11. æ–‡æ¡£å®Œå–„
12. å¼€æºå‘å¸ƒ

## ç›®å½•ç»“æ„
```
better-gpt-image/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ prompt_optimizer.py    # Prompt ä¼˜åŒ–æ ¸å¿ƒ
â”‚   â”œâ”€â”€ image_generator.py     # å›¾åƒç”Ÿæˆæ ¸å¿ƒ
â”‚   â”œâ”€â”€ image_processor.py     # å›¾åƒå¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ session_manager.py     # ä¼šè¯ç®¡ç†
â”‚   â””â”€â”€ utils.py               # å·¥å…·å‡½æ•°
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_prompt.py
â”‚   â”œâ”€â”€ test_generator.py
â”‚   â””â”€â”€ test_integration.py
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ basic_generation.py
â”‚   â”œâ”€â”€ image_editing.py
â”‚   â””â”€â”€ multi_turn.py
â”œâ”€â”€ cog.yaml                   # Cog é…ç½®
â”œâ”€â”€ predict.py                 # Replicate æ¥å£
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ README.md
â””â”€â”€ PROJECT_PLAN.md
```

## å·®å¼‚åŒ–ç‰¹ç‚¹

1. **æ™ºèƒ½ Prompt å·¥ç¨‹**
   - è‡ªåŠ¨åˆ†æå’Œå¢å¼ºç”¨æˆ·è¾“å…¥
   - å†…ç½®ä¸“ä¸šæç¤ºè¯åº“
   - å¤šè¯­è¨€æ”¯æŒ

2. **é¢„è®¾æ¨¡æ¿**
   - ç”µå½±é£æ ¼
   - åŠ¨æ¼«é£æ ¼
   - å†™å®æ‘„å½±
   - è‰ºæœ¯ç»˜ç”»
   - 3D æ¸²æŸ“

3. **æ‰¹é‡å¤„ç†**
   - æ”¯æŒæ‰¹é‡ç”Ÿæˆ
   - å˜ä½“ç”Ÿæˆ
   - é£æ ¼è¿ç§»

4. **ç”¨æˆ·ä½“éªŒ**
   - æ¸…æ™°çš„é”™è¯¯æç¤º
   - è¿›åº¦åé¦ˆ
   - æˆæœ¬é¢„ä¼°

## æˆåŠŸæŒ‡æ ‡
- ç”Ÿæˆè´¨é‡æå‡ 30%+
- ç”¨æˆ·æ»¡æ„åº¦ 90%+
- å¼€æºç¤¾åŒºæ´»è·ƒåº¦
- Replicate å¹³å°ä½¿ç”¨é‡